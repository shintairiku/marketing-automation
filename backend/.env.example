# =============================================================
# Backend Environment Variables (.env)
# =============================================================
# cp .env.example .env して値を埋めてください
#
# 凡例:
#   [必須]     アプリ起動に必須。未設定だと起動時に警告
#   [機能別]   該当機能を使う場合のみ必要
#   [任意]     デフォルト値あり。変更したい場合のみ設定
# =============================================================

# ── 認証 ─────────────────────────────────────────────
# [必須] Clerk — JWT検証 + JWKS URL導出に使用
CLERK_SECRET_KEY=sk_test_...
CLERK_PUBLISHABLE_KEY=pk_test_...

# ── データベース ──────────────────────────────────────
# [必須] Supabase
# ローカル: http://127.0.0.1:15421 (npx supabase start で確認)
# リモート: https://your-project.supabase.co
SUPABASE_URL=http://127.0.0.1:15421
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=

# ── AI API Keys ───────────────────────────────────────
# [必須] OpenAI — Blog AI, SEO記事生成, エージェント全般
OPENAI_API_KEY=sk-proj-...

# [機能別] SerpAPI — SEO記事のSERP分析に使用
SERPAPI_API_KEY=

# [機能別] Gemini — Google Generative AI (将来 google.genai に移行予定)
GEMINI_API_KEY=

# ── AI モデル設定 ─────────────────────────────────────
# [任意] 各ステップで使用するモデルを個別指定可能
# 未設定時はデフォルト値が使われる
BLOG_GENERATION_MODEL=gpt-5.2
# RESEARCH_MODEL=gpt-5-mini
# WRITING_MODEL=gpt-5.1
# EDITING_MODEL=gpt-4.1-mini
# OUTLINE_MODEL=                 # 未設定時は WRITING_MODEL を使用
# SERP_ANALYSIS_MODEL=           # 未設定時は RESEARCH_MODEL を使用
# PERSONA_MODEL=                 # 未設定時は WRITING_MODEL を使用
# THEME_MODEL=                   # 未設定時は WRITING_MODEL を使用

# ── OpenAI Agents SDK ────────────────────────────────
# [任意] トレーシング設定
OPENAI_AGENTS_ENABLE_TRACING=true
OPENAI_AGENTS_TRACE_INCLUDE_SENSITIVE_DATA=false

# ── Stripe ────────────────────────────────────────────
# [機能別] サブスクリプション — バックエンドでは直接使用しないが config に読み込まれる
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# ── CORS ──────────────────────────────────────────────
# [必須] フロントエンドのオリジンを許可 (カンマ区切り)
ALLOWED_ORIGINS=http://localhost:3000

# ── Google Cloud ──────────────────────────────────────
# [機能別] 画像生成 (Vertex AI Imagen) + GCS ストレージ
GOOGLE_CLOUD_PROJECT=
GOOGLE_CLOUD_LOCATION=us-central1
# JSON文字列 or ファイルパスのどちらかを指定
GOOGLE_SERVICE_ACCOUNT_JSON=
# GOOGLE_SERVICE_ACCOUNT_JSON_FILE=path/to/sa-key.json

# [機能別] GCS バケット
GCS_BUCKET_NAME=
# GCS_PUBLIC_URL_BASE=https://storage.googleapis.com/your-bucket

# ── 画像生成 (Imagen) ────────────────────────────────
# [任意] デフォルト値あり。変更不要なら設定しなくてよい
# IMAGEN_MODEL_NAME=imagen-4.0-generate-preview-06-06
# IMAGEN_ASPECT_RATIO=4:3
# IMAGE_STORAGE_PATH=/tmp/images

# ── Blog AI ───────────────────────────────────────────
# [機能別] WordPress連携の認証情報暗号化キー
CREDENTIAL_ENCRYPTION_KEY=
# [任意] フロントエンドURL (デフォルト: http://localhost:3000)
FRONTEND_URL=http://localhost:3000

# ── お問い合わせ通知 ──────────────────────────────────
# [機能別] Resend (推奨) or SMTP で管理者にメール通知
# RESEND_API_KEY=re_...
# RESEND_FROM_EMAIL=BlogAI <noreply@yourdomain.com>
# CONTACT_NOTIFICATION_EMAIL=admin@yourdomain.com
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=
# SMTP_PASSWORD=
# SMTP_FROM_EMAIL=

# ── デバッグ ──────────────────────────────────────────
# [任意]
DEBUG=false
