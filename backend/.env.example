# ============================================================
# Backend Environment Variables
# ============================================================
# このファイルをコピーして .env を作成してください:
#   cp .env.example .env
#
# 環境ごとの違い:
#   Development: DEBUG=true, ENVIRONMENT=development, Clerk/Stripe test keys
#   Production:  DEBUG=false, ENVIRONMENT=production, Clerk/Stripe live keys
# ============================================================

# --- 環境設定 ---
ENVIRONMENT=development          # development | production
DEBUG=false                      # true にすると詳細ログ出力 (本番では必ず false)

# --- CORS設定 ---
# カンマ区切りで複数指定。フロントエンドのURLを指定する
# Development:
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
# Production:
# ALLOWED_ORIGINS=https://app.yourdomain.com

# --- AI API Keys ---
OPENAI_API_KEY=sk-proj-...
GEMINI_API_KEY=AIzaSy...

# --- AI モデル設定 ---
# 未指定の場合、SERP_ANALYSIS_MODEL は RESEARCH_MODEL、PERSONA_MODEL/THEME_MODEL は WRITING_MODEL を使用
RESEARCH_MODEL=gpt-5-mini
WRITING_MODEL=gpt-4.1
OUTLINE_MODEL=gpt-4.1
EDITING_MODEL=gpt-4.1-mini
SERP_ANALYSIS_MODEL=gpt-5-mini
PERSONA_MODEL=gpt-4.1
THEME_MODEL=gpt-4.1
BLOG_GENERATION_MODEL=gpt-5.2

# --- OpenAI Agents SDK ---
OPENAI_AGENTS_ENABLE_TRACING=true
OPENAI_AGENTS_TRACE_INCLUDE_SENSITIVE_DATA=false  # 本番では false

# --- SerpAPI ---
SERPAPI_API_KEY=

# --- Supabase ---
# Development と Production で別プロジェクトを使用すること
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=eyJhbGci...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGci...

# --- Clerk 認証 ---
# Development: Clerk Dashboard の Development インスタンスのキーを使用
# Production: Clerk Dashboard の Production インスタンスのキーを使用
CLERK_SECRET_KEY=sk_test_...
CLERK_PUBLISHABLE_KEY=pk_test_...

# --- Stripe ---
# Development: Test Mode キー (sk_test_*, pk_test_*)
# Production: Live Mode キー (sk_live_*, pk_live_*)
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# --- Google Cloud / Vertex AI (画像生成) ---
GOOGLE_CLOUD_PROJECT=your-project-id
GOOGLE_CLOUD_LOCATION=us-central1
GOOGLE_SERVICE_ACCOUNT_JSON='{"type":"service_account","project_id":"your-project-id",...}'

# --- 画像生成モデル設定 ---
IMAGEN_MODEL_NAME=imagen-4.0-generate-preview-06-06
IMAGEN_ASPECT_RATIO=4:3
IMAGEN_OUTPUT_FORMAT=JPEG
IMAGEN_QUALITY=85
IMAGEN_SAFETY_FILTER=block_only_high
IMAGEN_PERSON_GENERATION=allow_all
IMAGEN_ADD_JAPAN_PREFIX=true

# --- 画像ストレージ ---
# Development: ローカルファイルシステム
IMAGE_STORAGE_PATH=./generated_images
# Production (Cloud Run): /tmp は揮発性。GCS を使用する
# IMAGE_STORAGE_PATH=/tmp/images
GCS_BUCKET_NAME=marketing-automation-images-dev
# Production: GCS_BUCKET_NAME=marketing-automation-images-prod

# --- Blog AI ---
CREDENTIAL_ENCRYPTION_KEY=
FRONTEND_URL=http://localhost:3000
# Production: FRONTEND_URL=https://app.yourdomain.com

# --- サーバー設定 ---
API_HOST=0.0.0.0
API_PORT=8000
