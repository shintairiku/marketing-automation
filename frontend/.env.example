# =============================================================
# Frontend Environment Variables (.env.local)
# =============================================================
# cp .env.example .env.local して値を埋めてください
#
# 凡例:
#   [必須]       アプリ起動・ビルドに必須
#   [必須/本番]  本番デプロイ時のみ必須
#   [機能別]     該当機能を使う場合のみ必要
#   [任意]       デフォルト値あり
#
# NEXT_PUBLIC_ 付き = ブラウザに公開される (秘密情報を入れない)
# NEXT_PUBLIC_ なし = サーバーサイドのみ (API Routes)
# =============================================================

# ── Supabase ──────────────────────────────────────────
# [必須] ローカル: npx supabase start で確認
NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:15421
NEXT_PUBLIC_SUPABASE_ANON_KEY=
# [必須] サーバーサイド (API Routes で使用)
SUPABASE_SERVICE_ROLE_KEY=

# ── Clerk (認証) ──────────────────────────────────────
# [必須]
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_...
CLERK_SECRET_KEY=sk_test_...
# [必須] Clerk Webhook 署名検証
CLERK_WEBHOOK_SECRET=whsec_...

# ── Stripe (課金) ─────────────────────────────────────
# [機能別] サブスクリプション・課金テスト時に必要
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_PRICE_ID=price_...
STRIPE_PRICE_ADDON_ARTICLES=price_...
# NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY は現在コードで未使用
# Dockerfile のビルド引数として残存しているが、loadStripe() を
# クライアントで使う場合のみ必要

# ── Backend API ───────────────────────────────────────
# [必須] バックエンド FastAPI の URL
NEXT_PUBLIC_API_BASE_URL=http://localhost:8080

# ── App URLs ──────────────────────────────────────────
# [必須] Stripe Checkout のリダイレクト先、招待メール等で使用
NEXT_PUBLIC_APP_URL=http://localhost:3000
# NEXT_PUBLIC_SITE_URL は NEXT_PUBLIC_APP_URL のフォールバック
# 両方設定する必要はない。APP_URL のみで OK
# NEXT_PUBLIC_SITE_URL=http://localhost:3000

# ── GCS ───────────────────────────────────────────────
# [機能別] next.config.js の画像ドメイン許可に使用
NEXT_PUBLIC_GCS_BUCKET_NAME=your-bucket-name

# ── Cloud Run IAM (本番のみ) ─────────────────────────
# [必須/本番] Vercel → Cloud Run の認証
# ローカル開発では不要 (未設定でスキップされる)
# CLOUD_RUN_AUDIENCE_URL=https://backend-xxx.a.run.app
# GOOGLE_SA_KEY_BASE64=<base64エンコードされたSAキーJSON>
