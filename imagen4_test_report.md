# Imagen-4.0 ãƒ†ã‚¹ãƒˆçµæœãƒ¬ãƒãƒ¼ãƒˆ

## ãƒ†ã‚¹ãƒˆæ¦‚è¦
Google Vertex AI Imagen-4.0ã¨Imagen-3.0ã®ä¸¡æ–¹ã®ãƒ¢ãƒ‡ãƒ«ã‚’ãƒ†ã‚¹ãƒˆã—ã€å‹•ä½œç¢ºèªã‚’è¡Œã„ã¾ã—ãŸã€‚

## ãƒ†ã‚¹ãƒˆçµæœ

### âœ… æˆåŠŸã—ãŸãƒ†ã‚¹ãƒˆ

1. **ã‚µãƒ¼ãƒ“ã‚¹åˆæœŸåŒ–ãƒ†ã‚¹ãƒˆ**
   - âœ… Google GenAI SDKæ­£å¸¸åˆæœŸåŒ–
   - âœ… èªè¨¼æƒ…å ±æ­£å¸¸èª­ã¿è¾¼ã¿
   - âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID: `marketing-automation-461305`
   - âœ… ãƒªãƒ¼ã‚¸ãƒ§ãƒ³: `us-central1`

2. **Imagen-4.0ãƒ†ã‚¹ãƒˆ**
   - âœ… ãƒ¢ãƒ‡ãƒ«: `imagen-4.0-generate-preview-06-06`
   - âœ… ç”»åƒç”ŸæˆæˆåŠŸ
   - âœ… ç”Ÿæˆç”»åƒ: `generated_2ed97073ccd946b9b9377117adfe3e94.jpeg` (510KB)
   - âœ… ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ: "A beautiful mountain landscape with snow-capped peaks, professional photography"

3. **Imagen-3.0ãƒ†ã‚¹ãƒˆ**
   - âœ… ãƒ¢ãƒ‡ãƒ«: `imagen-3.0-generate-001`
   - âœ… ç”»åƒç”ŸæˆæˆåŠŸ
   - âœ… ç”Ÿæˆç”»åƒ: `generated_2fdcf137847a4c1bab41c9057e4880ed.jpeg` (398KB)
   - âœ… åŒã˜ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§æ¯”è¼ƒãƒ†ã‚¹ãƒˆ

## å®Ÿè£…ã•ã‚ŒãŸæ©Ÿèƒ½

### 1. è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½
```python
# Imagen-4.0ã§å¤±æ•—ã—ãŸå ´åˆã€è‡ªå‹•çš„ã«Imagen-3.0ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
if not result.success and self.model_name.startswith("imagen-4.0"):
    logger.warning(f"Imagen-4.0 failed, falling back to Imagen-3.0")
    original_model = self.model_name
    self.model_name = "imagen-3.0-generate-001"
    result = self._generate_with_genai_sdk(request)
    self.model_name = original_model  # å…ƒã«æˆ»ã™
```

### 2. è¤‡æ•°ãƒ¢ãƒ‡ãƒ«å¯¾å¿œ
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚µãƒ¼ãƒ“ã‚¹: Imagen-4.0ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ä»˜ãï¼‰
- å€‹åˆ¥ãƒ†ã‚¹ãƒˆç”¨ã‚µãƒ¼ãƒ“ã‚¹: Imagen-4.0å°‚ç”¨ã€Imagen-3.0å°‚ç”¨

### 3. æ–°ã—ã„APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
- `/api/images/test-imagen4` - Imagen-4.0å°‚ç”¨ãƒ†ã‚¹ãƒˆ
- `/api/images/test-imagen3` - Imagen-3.0å°‚ç”¨ãƒ†ã‚¹ãƒˆ
- `/api/images/test-direct` - èªè¨¼ãªã—ç›´æ¥ãƒ†ã‚¹ãƒˆ

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¯”è¼ƒ

| ãƒ¢ãƒ‡ãƒ« | ç”Ÿæˆæ™‚é–“ | ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º | å“è³ª |
|--------|----------|----------------|------|
| Imagen-4.0 | ~18ç§’ | 510KB | é«˜å“è³ª |
| Imagen-3.0 | ~18ç§’ | 398KB | é«˜å“è³ª |

## çµè«–

ğŸ‰ **Imagen-4.0ã¯æ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™ï¼**

- Imagen-4.0ã¨Imagen-3.0ã®ä¸¡æ–¹ãŒæ­£å¸¸ã«å‹•ä½œ
- è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ã«ã‚ˆã‚Šã€ã‚ˆã‚Šå®‰å®šã—ãŸã‚µãƒ¼ãƒ“ã‚¹æä¾›ãŒå¯èƒ½
- æ—¢å­˜ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§Imagen-4.0ãŒä½¿ç”¨å¯èƒ½

## æ¨å¥¨äº‹é …

1. **æœ¬ç•ªç’°å¢ƒã§ã®ä½¿ç”¨**: Imagen-4.0ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¨ã—ã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã™ã‚‹
2. **å“è³ªãƒ†ã‚¹ãƒˆ**: ä¸¡ãƒ¢ãƒ‡ãƒ«ã®å‡ºåŠ›å“è³ªã‚’æ¯”è¼ƒã—ã€ç”¨é€”ã«å¿œã˜ã¦é¸æŠ
3. **ã‚³ã‚¹ãƒˆæœ€é©åŒ–**: ä½¿ç”¨é‡ã«å¿œã˜ã¦ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã„åˆ†ã‘ã‚‹

## ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´

- `services/image_generation_service.py`: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½è¿½åŠ 
- `routers/images.py`: ãƒ†ã‚¹ãƒˆç”¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¿½åŠ 
- ç”Ÿæˆç”»åƒ: `backend/generated_images/` ãƒ•ã‚©ãƒ«ãƒ€ã«ä¿å­˜

ãƒ†ã‚¹ãƒˆå®Œäº†æ—¥æ™‚: 2025-06-20 23:28