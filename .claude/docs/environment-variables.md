# Environment Variables

## Backend (`backend/.env`)
```env
# CORS
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# AI
OPENAI_API_KEY=
GEMINI_API_KEY=
SERPAPI_API_KEY=

# Database
SUPABASE_URL=
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=

# Auth
CLERK_SECRET_KEY=
CLERK_PUBLISHABLE_KEY=

# Stripe
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# Google Cloud / Vertex AI
GOOGLE_CLOUD_PROJECT=
GOOGLE_CLOUD_LOCATION=us-central1
GOOGLE_SERVICE_ACCOUNT_JSON=

# Image Generation
IMAGEN_MODEL_NAME=imagen-4.0-generate-preview-06-06
IMAGEN_ASPECT_RATIO=4:3
IMAGE_STORAGE_PATH=./generated_images
GCS_BUCKET_NAME=

# Blog AI
BLOG_GENERATION_MODEL=gpt-5.2
CREDENTIAL_ENCRYPTION_KEY=
FRONTEND_URL=http://localhost:3000
BLOG_GENERATION_PARALLEL_TOOL_CALLS=true
BLOG_PROMPT_CACHE_ENABLED=true
BLOG_PROMPT_CACHE_SCOPE=global
BLOG_PROMPT_CACHE_KEY_VERSION=v1
BLOG_PROMPT_CACHE_RETENTION_24H=true

# Contact / Email
RESEND_API_KEY=
RESEND_FROM_EMAIL=BlogAI <noreply@yourdomain.com>
CONTACT_NOTIFICATION_EMAIL=admin@yourdomain.com

# Tracing
OPENAI_AGENTS_ENABLE_TRACING=true

# Debug
DEBUG=false
```

## Frontend (`frontend/.env.local`)
```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=

# Clerk
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=
CLERK_SECRET_KEY=

# Stripe
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_PRICE_ID=
STRIPE_PRICE_ADDON_ARTICLES=          # アドオン記事追加 Price ID

# Backend
NEXT_PUBLIC_API_BASE_URL=http://localhost:8080
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Cloud Run IAM (本番のみ)
CLOUD_RUN_AUDIENCE_URL=               # https://<service>-<hash>-<region>.a.run.app
GOOGLE_SA_KEY_BASE64=                  # Base64エンコードされたSAキーJSON

# GCS
NEXT_PUBLIC_GCS_BUCKET_NAME=
```
